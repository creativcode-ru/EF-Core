[‚Üê EF Core](/README.md)  

# EF Core —Å MVC
[–£—á–µ–±–Ω–∏–∫ –ø–æ —Ä–∞–±–æ—Ç–µ —Å ASP.NET Core 2.0 MVC –∏ EF Core](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/?view=aspnetcore-3.1)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Net Core 3.1, —á—Ç–æ —Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å, –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ EF Core —Å Razor Pages.  
–ö–ª–∞—Å—Å—ã –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫ –∏ –¥–ª—è Razor Pages.

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ SchoolContext —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é NuGet:
—Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—â–∏–π –ø–∞–∫–µ—Ç Microsoft.EntityFrameworkCore -- –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å.

–î–æ–±–∞–≤–∏—Ç—å —Ç–µ –∂–µ –ø–∞–∫–µ—Ç—ã, —á—Ç–æ –∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ `EF Core —Å Razor Pages`

<p align="center"> 
  <img src="/ContosoUniversityMVC/wwwroot/img/prtsc/addNuget.png" width="400" alt="–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ Nuget –¥–ª—è EF Core 3.1 —Å MVC">  
</p>

### [–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ CRUD](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/sort-filter-page?view=aspnetcore-3.1)
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–≤–µ–¥–µ–Ω–∏–π: –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ Details –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ Enrollments;  
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Create: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–±–æ–µ–≤, –∑–∞—â–∏—Ç–∞ –æ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö;  
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ HttpPost Edit, –∑–∞—â–∏—Ç–∞ –æ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–∞—Ä–∏–∞–Ω—Ç —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º —á—Ç–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥ –º–µ—Ç–æ–¥–∞ HttpPost Edit: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.  
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–¥–∞–ª–µ–Ω–∏—è: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ GET –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ü–æ–¥—Ö–æ–¥ —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º —á—Ç–µ–Ω–∏–µ–º –¥–ª—è –º–µ—Ç–æ–¥–∞ HttpPost Delete.  
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î: –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ Entity Framework —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ—è–≤–Ω–æ. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, —Ç–æ —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏](https://docs.microsoft.com/ru-ru/ef/core/saving/transactions).  
* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤: [–º–µ—Ç–æ–¥ `.AsNoTracking()`](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/crud?view=aspnetcore-3.1#no-tracking-queries)

### [C–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/sort-filter-page?view=aspnetcore-3.1)
<p align="center">
   <a  href="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/sort-filter-page?view=aspnetcore-3.1" target="_blank" >
  <img src="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/sort-filter-page/_static/paging.png?view=aspnetcore-3.1" width="400" alt="">
   </a>
</p>

* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤  
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –ø–æ–∏—Å–∫–∞. [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–ª–æ—è —Ä–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/sort-filter-page?view=aspnetcore-3.1#add-a-search-box). –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ SQL —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ —É—á–µ—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Å—Ç—Ä–æ–∫.  
* –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º. –£—á–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º  
* –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–≤–µ–¥–µ–Ω–∏–π. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç—ã.

### [–§—É–Ω–∫—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/migrations?view=aspnetcore-3.1)
* –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–æ–º–∞–Ω–¥–∞–º–∏ PowerShell –∫–∞–∫ –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ [Razor Pages EF](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-rp/migrations?view=aspnetcore-3.1&tabs=visual-studio#create-an-initial-migration). 
–ü–µ—Ä–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `Add-Migration InitialCreate` —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏, –≤ –≤—Ç–æ—Ä–∞—è `Update-Database` —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –ë–î `SchoolContext2`  
* –î–∞–ª–µ–µ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É [–û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤ Up –∏ Down](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/migrations?view=aspnetcore-3.1#examine-up-and-down-methods). –ü–∞—Ä–∞–º–µ—Ç—Ä –∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ "InitialCreate") –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º.  
* –ò–∑ Razor Pages EF: [–¢–∞–±–ª–∏—Ü–∞ –∂—É—Ä–Ω–∞–ª–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –±–∞–∑–µ SQL](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-rp/migrations?view=aspnetcore-3.1&tabs=visual-studio#the-migrations-history-table), [–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–Ω–∏–º–æ–∫ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-rp/migrations?view=aspnetcore-3.1&tabs=visual-studio#the-data-model-snapshot)   
* –£–¥–∞–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –±–∞–∑—É –¥–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏, —è —Å–¥–µ–ª–∞–ª —ç—Ç–æ –≤ PowerShell –∫–æ–º–∞–Ω–¥–æ–π [Update-Database -Migration 0](https://docs.microsoft.com/ru-ru/ef/core/miscellaneous/cli/powershell#update-database) -- —Ç–∞–±–ª–∏—Ü—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–µ–π, —É–¥–∞–µ–Ω—ã –∏–∑ –ë–î. –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ —è –≤—ã–ø–æ–ª–Ω–∏–ª –∫–æ–º–∞–Ω–¥—É  [Remove-Migration](https://docs.microsoft.com/ru-ru/ef/core/miscellaneous/cli/powershell#remove-migration)

### [–°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/complex-data-model?view=aspnetcore-3.1)
<p align="center">
   <a  href="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/complex-data-model?view=aspnetcore-3.1" target="_blank" >
  <img src="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/complex-data-model/_static/diagram.png?view=aspnetcore-3.1" width="400" alt="">
   </a>
</p>
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–æ–≤.

–ï—Å–ª–∏ –≤—ã –Ω–µ –¥–µ–ª–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –ë–î, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏. –ü—Ä–∏–¥–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—é—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ DbInitializer (namespace ContosoUniversityMVC.Data).  
–ò—Ç–∞–∫: –û–±–Ω—É–ª–∏—Ç–µ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ `Update-Database -Migration 0`, –æ—Ç–∫—Ä–æ–π—Ç–µ –ë–î –∏ —É–¥–∞–ª–∏—Ç–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ç–∞–±–ª–∏—Ü—ã, —Å–Ω–∞—á–∞–ª–∞ —Ç–∞–±–ª–∏—Ü—É —Å–≤—è–∑–µ–π Enrollment –ø–æ—Ç–æ–º Course –∏ Student.  
–ï—Å–ª–∏ –≤—ã —É–∂–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –∞—Ç—Ä–∏–±—É—Ç—ã, —Ç–æ –∑–∞–∫–æ–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é `Add-Migration InitialCreate`, –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∫ –ë–î `Update-Database` - –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø—É—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–ø–æ–ª–Ω—è—Ç—Å—è –∏–∑ –∫–ª–∞—Å—Å–∞ DbInitializer.  
–î–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä—É–±—É—Ç—ã –∫ –∫–ª–∞—Å—Å—É Student –∏ —Å–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é `Add-Migration MaxLengthOnNames` -- —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—Ü–µ–ª–µ–Ω–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü. –û–±–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É `Update-Database` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ —Ç–∞–±–ª–∏—Ü—ã Student.  
* [–°–≤—è–∑–∏ "–º–Ω–æ–≥–∏–µ –∫–æ –º–Ω–æ–≥–∏–º"](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/complex-data-model?view=aspnetcore-3.1#many-to-many-relationships)  
–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á - –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ SchoolContext (namespace ContosoUniversityMVC.Data).  
* [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/complex-data-model?view=aspnetcore-3.1#add-a-migration)  –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö-–∑–∞–≥–ª—É—à–µ–∫ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞. 
–ü–æ—Å–∫–æ–ª—å–∫—É —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö DbInitializer, —Ç–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é –ë–î.

### [–ß—Ç–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/read-related-data?view=aspnetcore-3.1#prerequisites)
<p align="center">
   <a  href="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/read-related-data?view=aspnetcore-3.1#prerequisites" target="_blank" >
  <img src="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/read-related-data/_static/instructors-index.png?view=aspnetcore-3.1" width="400" alt="">
   </a>
</p>

* –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ë–µ–∑–æ—Ç–ª–æ–∂–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –Ø–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞.  
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "Instructors" (–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç—Ä–µ—Ö —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü, –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –º–æ–¥–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/update-related-data?view=aspnetcore-3.1)
<p align="center">
   <a  href="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/update-related-data?view=aspnetcore-3.1" target="_blank" >
  <img src="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/update-related-data/_static/instructor-edit-courses.png?view=aspnetcore-3.1" width="400" alt="">
   </a>
</p>

* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—ã–±–æ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ SelectList  
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ .AsNoTrackin –≤ –º–µ—Ç–æ–¥—ã Details –∏ Delete   
* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –ö—É—Ä—Å–æ–≤. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–¥–∞–ª–µ–Ω–∏—è.  
* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞ –∏ –∫—É—Ä—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è  

### [–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/concurrency?view=aspnetcore-3.1)

* –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞) - EF Core –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç,—Ç.–∫. —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞. –í–∞—Ä–∏–∞–Ω—Ç—ã: –æ—Ç—Å–ª–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–ø–∏—Å–∏ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏; –ø–æ–±–µ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–Ω–µ—Å–µ–Ω–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è; –ø–æ–±–µ–¥–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ - –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∞ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–¥–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç –∑–∞–ø–∏—Å—å), —Ç–æ –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.  
–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∏–∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Å–ª—É—á–∏–≤—à–µ–º—Å—è - –æ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–∏–º–µ—Ä–µ.  
* –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ - –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π `DbConcurrencyException` - —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –∏ –º–æ–¥–µ–ª–∏. –í –ë–î –≤–∫–ª—é—á–∞–µ—Ç—è —Å—Ç–æ–ª–±–µ—Ü –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è `rowversion`, –æ–Ω –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å UPDATE –∏–ª–∏ DELETE –∫–∞–∫ —á–∞—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è WHERE.  
* –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∫–∞—Ñ–µ–¥—Ä. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–¥–∞–ª–µ–Ω–∏—è. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π Details –∏ Create.

### [–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/inheritance?view=aspnetcore-3.1)
<p align="center">
   <a  href="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/inheritance?view=aspnetcore-3.1" target="_blank" >
  <img src="https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/inheritance/_static/inheritance.png?view=aspnetcore-3.1" width="400" alt="">
   </a>
</p>

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –≤ –∫–æ–¥–µ, –∞ –Ω–µ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ Entity Framework –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è "–æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—é". –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å Person, –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å—ã Instructor –∏ Student —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–º–∏ –æ—Ç –∫–ª–∞—Å—Å–∞ Person, –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –≤ DbContext, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é.

‚ö† –í–ù–ò–ú–ê–ù–ò–ï! [–û–ø–µ—á–∞—Ç–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/inheritance?view=aspnetcore-3.1#add-person-to-the-model):  
–∏–∑ –∫–ª–∞—Å—Å–∞ SchoolContext –≤ –º–µ—Ç–æ–¥–µ `OnModelCreating(ModelBuilder modelBuilder)` –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ 2 —Å—Ç—Ä–æ–∫–∏ —Å –∫–ª–∞—Å—Å–∞–º–∏ Student –∏ Instructor, –Ω–∞–¥–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É Person –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –ø—Ä–µ–∂–Ω–∏—Ö. –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö. 

### [–°–≤–µ–¥–µ–Ω–∏—è –æ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –¥–ª—è ASP.NET MVC —Å EF Core](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/advanced?view=aspnetcore-3.1)

* –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤  
‚ö† –í–ù–ò–ú–ê–ù–ò–ï! **–í—ã–∑–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π**, [—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/advanced?view=aspnetcore-3.1#call-a-query-to-return-entities):  
–ú–µ–æ–¥ `.FromSql(query, id)` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.FromSqlRaw(query, id)`  
* –í—ã–∑–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤  
* [–í—ã–∑–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/advanced?view=aspnetcore-3.1#call-a-query-to-return-entities)  
‚ö† –í–ù–ò–ú–ê–ù–ò–ï! [—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/advanced?view=aspnetcore-3.1#call-a-query-to-return-entities):  
–ú–µ–æ–¥ `.ExecuteSqlCommandAsync` —É—Å—Ç–∞—Ä–µ–ª, –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.ExecuteSqlRawAsync`   
‚ö† –í–ù–ò–ú–ê–ù–ò–ï! –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤—ã –¥–µ–ª–∞–µ—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ø–∏—Å–∫–∞ –∫—É—Ä—Å–æ–≤, –µ—Å–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥, –∏—Å–ø–æ–ª—å–∑—É—è –±—Ä–∞—É–∑–µ—Ä, —Ç–æ –º–æ–∂–Ω–æ –æ—à–∏–±–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.  
* –ò–∑—É—á–µ–Ω–∏–µ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ -- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ SQL-–∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.  
* –°–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:  
‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ EF –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, **–Ω–µ —Ç—Ä–µ–±—É—é—â–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**.  
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.  
‚úÖ –ï—Å–ª–∏ –≤—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç–µ –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç–µ –æ–¥–∏–Ω –∏–∑ –º–µ—Ç–æ–¥–æ–≤ DbContext.SaveChanges, DbContext.Entry, ChangeTracker.Entries  **–≤ —Ü–∏–∫–ª–µ** , –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–±–∏—Ç—å—Å—è –∑–∞–º–µ—Ç–Ω–æ–≥–æ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—Ç–∫–ª—é—á–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤–∞ `ChangeTracker.AutoDetectChangesEnabled`.  
* [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ LINQ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–¥–∞](https://docs.microsoft.com/ru-ru/aspnet/core/data/ef-mvc/advanced?view=aspnetcore-3.1#use-dynamic-linq-to-simplify-code).  
‚úÖ –ú–µ—Ç–æ–¥ `EF.Property` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è **–∏–º–µ–Ω–∏ —Å–≤–æ–π—Å—Ç–≤–∞** –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏


### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
üìò [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Entity Framework Core.](https://docs.microsoft.com/ru-ru/ef/core/)  
<br /><br />
<p align="center">
  –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ –Ω–∞—à–∏—Ö <a  href="http://creativcode.ru/learn" target="_blank" >–≤–µ–± –∫—É—Ä—Å–∞—Ö –≤ –°–æ—á–∏, –ê–¥–ª–µ—Ä</a>:<br /><br />
   <a  href="http://creativcode.ru/learn/webnet" target="_blank" >
  <img src="http://creativcode.ru/img/learn/net-backend.jpg" width="400" alt="">
   </a>
</p>



